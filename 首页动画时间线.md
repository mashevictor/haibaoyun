# 首页第一屏动画时间线

以下为当前逻辑下的时间点、涉及元素与动画效果，便于你修改。

---

## 一、触发方式

- **正常模式**：脚本在 IIFE 内执行，先 `requestAnimationFrame(startHeroReveal)`，再 `setTimeout(..., 1510)`、`setTimeout(..., hud_delay)`。
- **无障碍 / 减少动效**：`prefers-reduced-motion` 为 true 时，不跑 logo/背景动画，直接加 `panels-in`、`mounted`，100ms 后开始播视频。

---

## 二、时间线（正常模式）

| 时间 (ms) | 触发方式 | 元素 (id / class) | 动画/效果 | 说明 |
|-----------|----------|--------------------|-----------|------|
| **0** | `requestAnimationFrame(startHeroReveal)` | `.hero-video-layout` | 增加 class `panels-in` | 触发两侧滑入、mount 入场等 CSS 过渡 |
| **0** | 同上 | `#heroContentLeft` | 增加 class `active` | 左侧内容区激活（标题等可带入场动画） |
| **0** | 同上 | `#heroScrollIndicator` | `style.opacity = '1'` | 滚动提示立即显示 |
| **0** | 同上 | `#hero-logo-white-area` | 初始全屏：left/0, top/0, width/100%, height/100% | 浅色白底、深色黑底，圆角，无 transition |
| **0** | CSS | `#hero-overlay-logo` (.hero-overlay-logo-img) | `animation: hero-logoScale 1.5s ease-out forwards` | 0→1 缩放 + 透明度 0→1；**浅色**下 `animation-delay: 10ms` |
| **0** | CSS | `#hero-left` | `transform: translateX(-100%)` → `translateX(0)` | `transition: transform 1.5s ease-out`（由 panels-in 触发） |
| **0** | CSS | `#hero-right` | `transform: translateX(100%)` → `translateX(0)` | 同上，1.5s ease-out |
| **0** | CSS | `.hero-mount-left` | opacity 0→1, translateY(1rem)→0 | `transition: 0.8s`，delay **0s** |
| **0** | CSS | `.hero-mount-powered` | 同上 | delay **0.3s** |
| **0** | CSS | `.hero-mount-right` | 同上 | delay **0.15s** |
| **10** | `setTimeout(..., 10)`（在 startHeroReveal 内） | `#hero-logo-white-area` | 设置 `transition: left/top/width/height/border-radius 1.5s ease-out`，并设 left/top/width/height 为 `.video-layer-inner` 的 rect | 背景从满屏向中间缩小，与视频区重合 |
| **10** | CSS（仅浅色） | `#hero-overlay-logo` | 开始执行 hero-logoScale（delay 10ms） | logo 从 10ms 起变大，持续 1.5s |
| **1510** | `setTimeout(..., 1510)` | `#hero-sequencer` | 增加 class `mounted` | 视频容器在 `#hero-logo-white-area` 内显示并开始循环播放 |
| **1510** | 同上 | `#hero-logo-white-area` | `style.transition = 'none'` | 避免后续尺寸再动有过渡 |
| **1510** | 同上 | `#hero-logo-wrap` | `transition: none; opacity: 0; visibility: hidden; pointer-events: none` | 仅 **logo 层瞬间消失**，无 overlay；视频在白底内露出并循环播 |
| **1510** | 同上 | `#hero-overlay-logo` | `style.transition = 'none'` | 确保无过渡 |
| **1510** | 同上 | JS | `startVideoSequencer()` | 从 layer-1（reveal）开始播，ended 时 switchLayer，循环 reveal→1→2→…→8→reveal |
| **1510** | 同上 | JS | `setInterval(1500, ...)` | 若当前层视频被暂停且可播，则自动 `play()`，保证不中断 |
| **1510** | CSS（mounted 后） | `#hero-sequencer` | opacity 0→1 | `transition: opacity 0.15s ease` |
| **1510** | CSS | `#hero-sequencer-inner` | opacity 0→1 | `transition: opacity 700ms ease-out` |
| **1510** | CSS | `.video-layer` (#layer-1～#layer-9) | opacity 0→1, scale(0.8)→1 | 各层 delay 0/50/100/…/400 ms |
| **hud_delay (4000)** | `setTimeout(..., hud_delay)` | `.hud-layer video` | 若有 src/currentSrc 则 `currentTime=0; play()` | HUD 视频开始；`.hud-layer` 加 class `loaded` |
| **hud_delay** | CSS（mounted 后） | `.hud-layer` | opacity 0→1 | `transition: opacity 1000ms 2000ms`（实际在 mounted 时已可显示，见上条） |

---

## 三、主要元素与作用

| 元素 | 作用 |
|------|------|
| `#hero-logo-white-area` | 全屏圆角背景（浅色白/深色黑），内含 logo 与视频容器；0ms 全屏，10ms 起 1.5s 缩到视频区大小；视频在此区域内循环播放 |
| `#hero-logo-wrap` | 包住 logo 的容器，1510ms 时瞬间隐藏（无动画），露出下方视频 |
| `#hero-overlay-logo` | logo 图，仅放大（hero-logoScale），无缩小；浅色 10ms 后开始 |
| `#hero-left` / `#hero-right` | 左右栏，panels-in 后 1.5s 从两侧滑入 |
| `.hero-mount` | 左侧/右侧卡片内容，panels-in 后 0.8s 入场（带 delay 错开） |
| `#hero-sequencer` | 视频容器，1510ms 加 mounted 后显示并播视频 |
| `#hero-sequencer-inner` | 内部 9 层视频层，mounted 后 opacity 与各层 transition 生效 |
| `#layer-1`～`#layer-9` | 视频层，layer-1 为 reveal，2～9 为 1～8；循环播放 |
| `.hud-layer` / `.hud-video` | HUD 装饰视频，hud_delay(4000)ms 后播放（若有 src） |
| `#heroScrollIndicator` | 滚动提示，0ms 即 opacity=1 |

---

## 四、关键 CSS 动画/过渡

| 名称 | 类型 | 时长 | 说明 |
|------|------|------|------|
| `hero-logoScale` | @keyframes | 1.5s | 0%: scale(0) opacity 0 → 100%: scale(1) opacity 1 |
| 白色区域缩小 | transition | 1.5s ease-out | left, top, width, height, border-radius（从 10ms 开始） |
| 左右栏滑入 | transition | 1.5s ease-out | transform translateX |
| hero-mount 入场 | transition | 0.8s | opacity + translateY，delay 0 / 0.15s / 0.3s |
| #hero-sequencer | transition | 0.15s | opacity |
| #hero-sequencer-inner | transition | 700ms | opacity |
| .video-layer | transition | opacity 600ms, transform 800ms | 各层 delay 0～400ms |
| .hud-layer | transition | 1000ms, delay 2000ms | opacity（在 mounted 后） |

---

## 五、可调参数位置（便于你改）

- **10ms 延迟**：index.html 中 `setTimeout(..., 10)`（背景开始缩小、浅色 logo 开始变大的时机）。
- **1.5s 时长**：CSS `.hero-logo-white-area` 的 transition 时长、`#hero-left`/`#hero-right` 的 transition 时长；以及 `hero-logoScale` 的 1.5s。
- **1510ms**：index.html 中 `setTimeout(..., 1510)`（logo 消失、视频开始、mounted 的时机）；若改 logo/背景时长，这里建议改为「10 + 背景/logo 动画时长」。
- **hud_delay**：index.html 中 `var hud_delay = 4000`（HUD 视频开始时间）。
- **hero-logoScale**：styles.css 中 `@keyframes hero-logoScale` 与 `.hero-overlay-logo-img` 的 `animation`、浅色下的 `animation-delay: 10ms`。
- **两侧与 mount**：styles.css 中 `.hero-video-layout #hero-left` / `#hero-right` 的 transition；`.hero-video-layout.panels-in .hero-mount-*` 的 transition 与 delay。

修改上述时间或效果后，如需再生成一版时间线或对代码做对应改动，可以说一下你的目标时间线。
