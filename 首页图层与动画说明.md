# 首页第一屏：图层结构与动画效果说明

本文档按**视觉层级从下到上**列出当前所有图层，并说明每层上的元素与动画。

---

## 一、整体层级关系（从底到顶）

| 层级顺序 | 容器 / 元素 | 说明 |
|----------|-------------|------|
| 1（最底） | `section.hero.hero-video-layout` | 第一屏根容器，全屏、padding-top 72px |
| 2 | `#hero-white-round-bg.hero-white-round-bg` | 满屏白色圆角背景，z-index: 0；随 logo 变大由外向内推进，最终与中间列（除左右两侧之外的区域）一致（仅浅色模式） |
| 3 | `#hero-inner.hero-inner` | 三栏网格：左栏、中间占位、右栏 |
| 4 | `#hero-logo-white-area` | 透明背景的“白底区”，绝对定位铺满 hero，内放 logo + 视频 |
| 5（最上） | `#heroScrollIndicator` | 滚动提示（鼠标图标），z-index: 5 |

---

## 二、各图层详细说明

### 图层 1：`section.hero.hero-video-layout`

- **作用**：首页第一屏根节点。
- **子元素**（直接子级）：
  - `#hero-white-round-bg`（见图层 2）
  - `#hero-logo-white-area`（见图层 4）
  - `#hero-inner`（见下）
  - `.scroll-indicator#heroScrollIndicator`（见图层 5）
- **样式/动画**：无自身动画；`padding-top: 72px`，`min-height: 100vh`，浅色时 `background: #000`，深色时 `background: #000000`。

---

### 图层 2：`#hero-inner.hero-inner`

- **作用**：三栏布局的网格容器（左 | 中 | 右）。
- **子元素**：
  - **`#hero-left.hero-left`**  
    - 左栏。内含：
    - `hero-left-card.hero-mount.hero-mount-left`  
      - `#heroContentLeft` → `hero-content` → 标题（`hero-main-title`、`hero-subtitle-line`）
    - `hero-left-card-bottom.hero-mount.hero-mount-powered`  
      - `hero-desc-visual`（图）、`hero-description`（段落，含 RWA/DePIN/GameFi/DeFi 等文案）
  - **`.hero-center-wrap`**  
    - 中间列占位，空 div，仅参与网格布局（`grid-column: 4 / span 6`）。
  - **`#hero-right.hero-right`**  
    - 右栏。内含：
    - `hero-mount.hero-mount-right.hero-right-card`  
      - `hero-right-title`、`#hero-current-time`、`#hero-current-day`、`hero-scroll-hint`（向下滚动 / 探索更多 + 箭头）
- **动画**：
  - 加上 `panels-in` 后：`#hero-left` 从 `translateX(-100%)` → `0`（1.5s ease-out）；`#hero-right` 从 `translateX(100%)` → `0`（1.5s ease-out）。
  - `.hero-mount`：初始 `opacity: 0`、`translateY(1rem)`；`panels-in` 后变为 `opacity: 1`、`translateY(0)`（0.8s），delay 分别为 0s（mount-left）、0.15s（mount-right）、0.3s（mount-powered）。

---

### 图层 2：`#hero-white-round-bg.hero-white-round-bg`

- **作用**：三栏底层满屏白色圆角背景；仅浅色模式显示，深色模式 `display: none`。
- **样式**：`position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 0; background: #ffffff; border-radius: var(--radius-4xl);`
- **动画**：与 `#hero-logo-white-area` 同步，10ms 后 1.5s ease-out 内 left/top/width/height/border-radius 从满屏过渡到与中间列 `.hero-center-wrap` 一致，即由外向内推进至「中间除左右两侧之外的区域」。

---

### 图层 4：`#hero-logo-white-area.hero-logo-white-area`

- **作用**：盖在 `#hero-inner` 之上（`position: absolute; inset: 0`，`z-index: 25`），背景透明；内部分为「logo 层」和「视频容器」两块，无单独白/黑矩形。
- **子元素**：
  1. **`#hero-logo-wrap.hero-overlay-logo-wrap`**  
     - 仅包含：**`#hero-overlay-logo.hero-overlay-logo-img`**（一张 logo 图 `images/logo/logo/1.png`）。  
     - 1510ms 时由 JS 设为 `opacity: 0`、`visibility: hidden`、`transition: none`，无动画消失。
  2. **`#hero-sequencer.hero-sequencer`**  
     - 视频容器，初始 `opacity: 0`；1510ms 加 class `mounted` 后显示并开始播视频（见下方「图层 4.2」）。
- **动画**：
  - 10ms 后由 JS 给 `#hero-logo-white-area` 设置 `transition: left/top/width/height/border-radius 1.5s ease-out`，并将 left/top/width/height 设为与中间列 `.hero-center-wrap` 的 rect 一致，即从满屏缩小到「中间除左右两侧之外的区域」（与 logo 放大同步；底层白块由 `#hero-white-round-bg` 提供）。
  - Logo：`#hero-overlay-logo` 使用 CSS 动画 `hero-logoScale`（1.5s ease-out）：`scale(0)`、`opacity: 0` → `scale(1)`、`opacity: 1`；浅色模式 `animation-delay: 10ms`。

---

### 图层 4.1：`#hero-logo-wrap` 上的元素

| 元素 | 说明 |
|------|------|
| `#hero-overlay-logo.hero-overlay-logo-img` | 唯一子元素：logo 图片，宽高约 90%、max-width 28rem，object-fit: contain；动画见上。 |

---

### 图层 4.2：`#hero-sequencer` 内的结构（视频 + HUD）

- **`#hero-sequencer`**  
  - 初始：`opacity: 0`，`transition: opacity 0.15s ease`。  
  - 加 `mounted` 后：`opacity: 1`，带圆角裁剪。

其直接子元素：

- **`.hero-center-inner`**  
  - 相对定位，宽高 100%，内包：
  - **`#hero-sequencer-inner.hero-sequencer-inner`**  
    - 绝对定位、居中；初始 `opacity: 0`，加 `mounted` 后 `opacity: 1`（700ms ease-out）。  
    - **子元素：9 个视频层** `#layer-1`～`#layer-9`（见下表）。
  - **`.hud-layer.hud-layer-light`**  
    - 内含 2 个 `.hud-video`（左/右）；浅色主题下整层 `display: none`。
  - **`.hud-layer.hud-layer-dark`**  
    - 同上；深色主题下当前样式为 `display: none`（若需 HUD 显示需改 CSS）。

---

### 视频层 `#layer-1`～`#layer-9`（在 `#hero-sequencer-inner` 上）

| 层 id | 内容 | 说明 |
|-------|------|------|
| `#layer-1` | `.video-layer-inner` → `<video class="hero-center-video" data-is-reveal>` | 对应 reveal 视频，无 `invisible`，首播 |
| `#layer-2`～`#layer-9` | 同上结构，`<video class="hero-center-video">` | 对应 1～8 段正片，初始带 class `invisible` |

每层结构：`div.video-layer` → `div.video-layer-inner` → `video.hero-center-video` + `<source>`（src 由 JS 按主题填入）。

- **动画**：  
  - 未 mounted：`opacity: 0`，`transform: scale(0.8)`。  
  - mounted 后：`opacity: 1`，`transform: scale(1)`；transition 为 opacity 600ms、transform 800ms；各层 delay 依次 0、50、100、150、200、250、300、350、400 ms。  
- **播放逻辑**：当前显示层无 `invisible`，其余层 `visibility: hidden`；播完一层切下一层，顺序为 reveal → 1→2→…→8 → 再回到 reveal，循环。小屏（&lt;1025px）仅用前 5 层。

---

### 图层 5：`#heroScrollIndicator.scroll-indicator`

- **作用**：底部滚动提示（鼠标形状）。
- **子元素**：`.mouse`。
- **样式/动画**：`z-index: 5`；脚本在 startHeroReveal 时设 `style.opacity = '1'`，无过渡。

---

## 三、动画效果汇总表

| 元素 / 时机 | 动画效果 |
|-------------|----------|
| `#hero-white-round-bg` | 10ms 起 1.5s：与白底区同步，left/top/width/height/border-radius 从满屏过渡到与中间列 `.hero-center-wrap` 一致（仅浅色） |
| `#hero-logo-white-area` | 10ms 起 1.5s：left/top/width/height/border-radius 从满屏过渡到与中间列 `.hero-center-wrap` 一致 |
| `#hero-overlay-logo` | `hero-logoScale` 1.5s：scale(0)→1，opacity 0→1；浅色 delay 10ms |
| `#hero-logo-wrap` | 1510ms 时 JS 直接隐藏（无过渡） |
| `#hero-sequencer` | 1510ms 加 `mounted` → opacity 0→1（0.15s） |
| `#hero-sequencer-inner` | mounted 后 opacity 0→1（700ms） |
| `#layer-1`～`#layer-9` | mounted 后 opacity 0→1、scale(0.8)→1，delay 0～400ms 错开 |
| `#hero-left` / `#hero-right` | panels-in 后 1.5s：translateX(±100%)→0 |
| `.hero-mount-*` | panels-in 后 0.8s：opacity 0→1，translateY(1rem)→0，delay 0/0.15s/0.3s |
| `.hud-layer` | mounted 且 hud_delay(4s) 后：opacity 0→1，transition 1000ms delay 2000ms（当前主题下多被 display:none） |

---

## 四、关键时间点

- **0ms**：`requestAnimationFrame(startHeroReveal)` → 加 `panels-in`、左侧 active、滚动提示 opacity=1；白底区初始全屏；左右栏与 mount 的 transition 开始。
- **10ms**：白底区开始缩小过渡（1.5s）；浅色下 logo 开始放大（1.5s）。
- **1510ms**：logo 层隐藏；`#hero-sequencer` 加 `mounted`；`startVideoSequencer()` 开始循环播视频。
- **hud_delay(4000ms)**：HUD 视频若有 src 则播放，`.hud-layer` 加 `loaded`（实际显示受主题 CSS 控制）。

如需调整某一层元素或时间，可对照上表修改对应 id/class 与脚本中的 10ms/1510ms/hud_delay。
